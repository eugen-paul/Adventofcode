package net.eugenpaul.adventofcode.y2020.day20;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;

import java.util.List;

import org.junit.jupiter.api.Test;

import net.eugenpaul.adventofcode.helper.FileReaderHelper;

class Day20Test {

    @Test
    void testTest2020Day20() {
        testPuzzle(List.of(//
                "Tile 2311:", //
                "..##.#..#.", //
                "##..#.....", //
                "#...##..#.", //
                "####.#...#", //
                "##.##.###.", //
                "##...#.###", //
                ".#.#.#..##", //
                "..#....#..", //
                "###...#.#.", //
                "..###..###", //
                "", //
                "Tile 1951:", //
                "#.##...##.", //
                "#.####...#", //
                ".....#..##", //
                "#...######", //
                ".##.#....#", //
                ".###.#####", //
                "###.##.##.", //
                ".###....#.", //
                "..#.#..#.#", //
                "#...##.#..", //
                "", //
                "Tile 1171:", //
                "####...##.", //
                "#..##.#..#", //
                "##.#..#.#.", //
                ".###.####.", //
                "..###.####", //
                ".##....##.", //
                ".#...####.", //
                "#.##.####.", //
                "####..#...", //
                ".....##...", //
                "", //
                "Tile 1427:", //
                "###.##.#..", //
                ".#..#.##..", //
                ".#.##.#..#", //
                "#.#.#.##.#", //
                "....#...##", //
                "...##..##.", //
                "...#.#####", //
                ".#.####.#.", //
                "..#..###.#", //
                "..##.#..#.", //
                "", //
                "Tile 1489:", //
                "##.#.#....", //
                "..##...#..", //
                ".##..##...", //
                "..#...#...", //
                "#####...#.", //
                "#..#.#.#.#", //
                "...#.#.#..", //
                "##.#...##.", //
                "..##.##.##", //
                "###.##.#..", //
                "", //
                "Tile 2473:", //
                "#....####.", //
                "#..#.##...", //
                "#.##..#...", //
                "######.#.#", //
                ".#...#.#.#", //
                ".#########", //
                ".###.#..#.", //
                "########.#", //
                "##...##.#.", //
                "..###.#.#.", //
                "", //
                "Tile 2971:", //
                "..#.#....#", //
                "#...###...", //
                "#.#.###...", //
                "##.##..#..", //
                ".#####..##", //
                ".#..####.#", //
                "#..#.#..#.", //
                "..####.###", //
                "..#.#.###.", //
                "...#.#.#.#", //
                "", //
                "Tile 2729:", //
                "...#.#.#.#", //
                "####.#....", //
                "..#.#.....", //
                "....#..#.#", //
                ".##..##.#.", //
                ".#.####...", //
                "####.#.#..", //
                "##.####...", //
                "##..#.##..", //
                "#.##...##.", //
                "", //
                "Tile 3079:", //
                "#.#.#####.", //
                ".#..######", //
                "..#.......", //
                "######....", //
                "####.#..#.", //
                ".#...#.##.", //
                "#.#####.##", //
                "..#.###...", //
                "..#.......", //
                "..#.###...", //
                "" //
        ), 20899048083289L, 273);
    }

    private void testPuzzle(List<String> inputData, long mult, long monsterFree) {
        Day20 event = new Day20();

        assertTrue(event.doEvent(inputData));
        assertEquals(mult, event.getMult());
        assertEquals(monsterFree, event.getMonsterFree());
    }

    @Test
    void testSolution2020Day20() {
        Day20 event = new Day20();

        List<String> eventData = FileReaderHelper.readListStringFromFile("y2020/day20/puzzle1.txt");
        assertTrue(event.doPuzzleFromData(eventData));
        assertEquals(107399567124539L, event.getMult());
        assertEquals(1555, event.getMonsterFree());
    }

}
